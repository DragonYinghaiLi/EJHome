<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.okami.apps.ej.dao.extend.AddressExtendMapper">

    <select id="selectAll" resultMap="addressExtendResultMap">
        select
        a.id as a_id,
        a.province,
        a.city,
        a.area,
        a.address,
        a.telephone
        a.customer_id,
        c.id as c_id,
        c.telephone,
        c.password,
        c.realname
      from ej_address a left join ej_customer c
        on a.customer_id = a.id
    </select>

    <resultMap id="addressExtendResultMap"
               type="com.okami.apps.ej.bean.extend.AddressExtend">
        <id column="a_id" property="id"/>
        <result column="province" property="province"/>
        <result column="city" property="city"/>
        <result column="area" property="area"/>
        <result column="address" property="address"/>
        <result column="telephone" property="telephone"/>
        <result column="category_id" property="customerId"/>
        <association property="customer" javaType="com.okami.apps.ej.bean.Customer">
            <id column="c_id" property="id"/>
            <result column="realname" property="realname"/>
        </association>
    </resultMap>
</mapper>